
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>All Modules &#8212; frbpoppy by David Gardenier</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/logo_small.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Documentation" href="documentation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="all-modules">
<h1>All Modules<a class="headerlink" href="#all-modules" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-cosmic_pop">
<span id="cosmic-pop"></span><h2>cosmic_pop<a class="headerlink" href="#module-cosmic_pop" title="Permalink to this headline">¶</a></h2>
<p>Class to generate a cosmic population of FRBs.</p>
<dl class="class">
<dt id="cosmic_pop.CosmicPopulation">
<em class="property">class </em><code class="descclassname">cosmic_pop.</code><code class="descname">CosmicPopulation</code><span class="sig-paren">(</span><em>n_gen, days=1, name='cosmic', H_0=67.74, W_m=0.3089, W_v=0.6911, dm_host_model='normal', dm_host_mu=100, dm_host_sigma=200, dm_igm_index=1000, dm_igm_sigma=None, dm_mw_model='ne2001', emission_range=[10000000.0, 10000000000.0], lum_range=[1e+40, 1e+45], lum_index=0, n_model='sfr', alpha=-1.5, w_model='lognormal', w_range=[0.1, 10], w_mu=0.1, w_sigma=0.5, si_mu=-1.4, si_sigma=1.0, z_max=2.5, generate=True</em><span class="sig-paren">)</span><a class="headerlink" href="#cosmic_pop.CosmicPopulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">frbpoppy.population.Population</span></code></p>
<p>Generate a cosmic FRB population.</p>
<p>Generate a popuation of FRBs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>n_gen</strong> (<em>int</em>) – Number of FRB sources/sky/time to generate.</li>
<li><strong>days</strong> (<em>float</em>) – Number of days over which FRBs are generated.</li>
<li><strong>name</strong> (<em>str</em>) – Population name.</li>
<li><strong>H_0</strong> (<em>float</em>) – Hubble constant.</li>
<li><strong>W_m</strong> (<em>float</em>) – Density parameter Ω_m.</li>
<li><strong>W_v</strong> (<em>float</em>) – Cosmological constant Ω_Λ.</li>
<li><strong>dm_host_model</strong> (<em>float</em>) – Dispersion measure host model. Options are
‘normal’ or ‘lognormal’.</li>
<li><strong>dm_host_mu</strong> (<em>float</em>) – Mean dispersion measure host [pc/cm^3].</li>
<li><strong>dm_host_sigma</strong> (<em>float</em>) – Deviation dispersion measure host [pc/cm^3].</li>
<li><strong>dm_igm_index</strong> (<em>float</em>) – Dispersion measure slope for IGM [pc/cm^3].</li>
<li><strong>dm_igm_sigma</strong> (<em>float</em>) – Scatter around dm_igm. Defaults 0.2*slope*z</li>
<li><strong>dm_mw_model</strong> (<em>str</em>) – Dispersion measure model for the Milky Way.
Options are ‘ne2001’ or ‘zero’.</li>
<li><strong>emission_range</strong> (<em>list</em>) – The frequency range [Hz] between which FRB
sources should emit the given bolometric luminosity.</li>
<li><strong>lum_range</strong> (<em>list</em>) – Bolometric luminosity (distance) range [erg/s].</li>
<li><strong>lum_index</strong> (<em>float</em>) – Power law index.</li>
<li><strong>n_model</strong> (<em>str</em>) – Number density model. Either ‘vol_co’, ‘sfr’ or
‘smd’.</li>
<li><strong>alpha</strong> (<em>float</em>) – Desired logN/logS of perfectly detected population.</li>
<li><strong>w_model</strong> (<em>str</em>) – Pulse width model, ‘lognormal’ or ‘uniform’.</li>
<li><strong>w_range</strong> (<em>list</em>) – Pulse width range [ms].</li>
<li><strong>w_mu</strong> (<em>float</em>) – Mean pulse width [ms].</li>
<li><strong>w_sigma</strong> (<em>float</em>) – Deviation pulse width [ms].</li>
<li><strong>si_mu</strong> (<em>float</em>) – Mean spectral index.</li>
<li><strong>si_sigma</strong> (<em>float</em>) – Standard deviation spectral index.</li>
<li><strong>z_max</strong> (<em>float</em>) – Maximum redshift.</li>
<li><strong>generate</strong> (<em>bool</em>) – Whether to create a population</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Population of FRBs.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#population.Population" title="population.Population">Population</a></p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="cosmic_pop.CosmicPopulation.gen_direction">
<code class="descname">gen_direction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cosmic_pop.CosmicPopulation.gen_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the direction of frbs.</p>
</dd></dl>

<dl class="method">
<dt id="cosmic_pop.CosmicPopulation.gen_dist">
<code class="descname">gen_dist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cosmic_pop.CosmicPopulation.gen_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate distances.</p>
</dd></dl>

<dl class="method">
<dt id="cosmic_pop.CosmicPopulation.gen_dm">
<code class="descname">gen_dm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cosmic_pop.CosmicPopulation.gen_dm" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate dispersion measures.</p>
</dd></dl>

<dl class="method">
<dt id="cosmic_pop.CosmicPopulation.gen_dm_host">
<code class="descname">gen_dm_host</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cosmic_pop.CosmicPopulation.gen_dm_host" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate dm host contributions.</p>
</dd></dl>

<dl class="method">
<dt id="cosmic_pop.CosmicPopulation.gen_gal_coords">
<code class="descname">gen_gal_coords</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cosmic_pop.CosmicPopulation.gen_gal_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate galactic coordinates.</p>
</dd></dl>

<dl class="method">
<dt id="cosmic_pop.CosmicPopulation.gen_lum">
<code class="descname">gen_lum</code><span class="sig-paren">(</span><em>shape</em><span class="sig-paren">)</span><a class="headerlink" href="#cosmic_pop.CosmicPopulation.gen_lum" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate luminosities.</p>
</dd></dl>

<dl class="method">
<dt id="cosmic_pop.CosmicPopulation.gen_si">
<code class="descname">gen_si</code><span class="sig-paren">(</span><em>shape</em><span class="sig-paren">)</span><a class="headerlink" href="#cosmic_pop.CosmicPopulation.gen_si" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate spectral indices.</p>
</dd></dl>

<dl class="method">
<dt id="cosmic_pop.CosmicPopulation.gen_w">
<code class="descname">gen_w</code><span class="sig-paren">(</span><em>shape</em><span class="sig-paren">)</span><a class="headerlink" href="#cosmic_pop.CosmicPopulation.gen_w" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate pulse widths.</p>
</dd></dl>

<dl class="method">
<dt id="cosmic_pop.CosmicPopulation.generate">
<code class="descname">generate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cosmic_pop.CosmicPopulation.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate all manner of intrinsic parameters.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-distributions">
<span id="distributions"></span><h2>distributions<a class="headerlink" href="#module-distributions" title="Permalink to this headline">¶</a></h2>
<p>Define distributions from which to get random numbers.</p>
<dl class="function">
<dt id="distributions.oppermann_pen">
<code class="descclassname">distributions.</code><code class="descname">oppermann_pen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#distributions.oppermann_pen" title="Permalink to this definition">¶</a></dt>
<dd><p>Following Oppermann &amp; Pen (2017), simulate repeat times.
:returns: List of burst times
:rtype: ts (list)</p>
</dd></dl>

<dl class="function">
<dt id="distributions.powerlaw">
<code class="descclassname">distributions.</code><code class="descname">powerlaw</code><span class="sig-paren">(</span><em>low</em>, <em>high</em>, <em>power</em>, <em>shape=1</em><span class="sig-paren">)</span><a class="headerlink" href="#distributions.powerlaw" title="Permalink to this definition">¶</a></dt>
<dd><p>Return random variables distributed according to power law.</p>
<p>The power law distribution power is simply the power, not including a minus
sign (P scales with x^n with n the power). A flat powerlaw can therefore
be created by taking setting power to zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>low</strong> (<em>float</em>) – Lower limit of distribution</li>
<li><strong>high</strong> (<em>float</em>) – Higher limit of distribution</li>
<li><strong>power</strong> (<em>float</em>) – Power of power law distribution</li>
<li><strong>shape</strong> (<em>int/tuple</em>) – Shape of array to be generated. Can also be a int.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Random variable picked from power law distribution</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="distributions.trunc_norm">
<code class="descclassname">distributions.</code><code class="descname">trunc_norm</code><span class="sig-paren">(</span><em>mu</em>, <em>sigma</em>, <em>n_gen=1</em>, <em>lower=0</em>, <em>upper=inf</em><span class="sig-paren">)</span><a class="headerlink" href="#distributions.trunc_norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw from a truncated normal distribution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mu</strong> (<em>number</em>) – Mu</li>
<li><strong>sigma</strong> (<em>number</em>) – Sigma</li>
<li><strong>n_gen</strong> (<em>number</em>) – Number to generate</li>
<li><strong>lower</strong> (<em>number</em>) – Lower limit</li>
<li><strong>upper</strong> (<em>number</em>) – Upper limit</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Numpy of required length</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-do_hist">
<span id="do-hist"></span><h2>do_hist<a class="headerlink" href="#module-do_hist" title="Permalink to this headline">¶</a></h2>
<p>Bin up Pandas DataFrames into histograms ready for Bokeh plotting.</p>
<dl class="function">
<dt id="do_hist.histogram">
<code class="descclassname">do_hist.</code><code class="descname">histogram</code><span class="sig-paren">(</span><em>dfs</em>, <em>n_bins=50</em>, <em>log=False</em>, <em>mc=False</em>, <em>cum=False</em><span class="sig-paren">)</span><a class="headerlink" href="#do_hist.histogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Quick function to ‘histogram’ each column of each dataframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dfs</strong> (<em>list</em>) – List of dataframes</li>
<li><strong>n_bins</strong> (<em>int</em>) – Number of bins</li>
<li><strong>log</strong> (<em>bool</em>) – Bin in log space or not</li>
<li><strong>mc</strong> (<em>bool</em>) – Whether running for a Monte Carlo plot</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of histogramed dataframes</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">hists (list)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-do_plot">
<span id="do-plot"></span><h2>do_plot<a class="headerlink" href="#module-do_plot" title="Permalink to this headline">¶</a></h2>
<p>Start up Bokeh server.</p>
<dl class="function">
<dt id="do_plot.plot">
<code class="descclassname">do_plot.</code><code class="descname">plot</code><span class="sig-paren">(</span><em>*pops</em>, <em>files=[]</em>, <em>frbcat=True</em>, <em>show=True</em>, <em>no_browser=False</em>, <em>mute=True</em>, <em>port=5006</em>, <em>print_command=False</em><span class="sig-paren">)</span><a class="headerlink" href="#do_plot.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot populations with bokeh. Has to save populations before plotting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>*pops</strong> (<a class="reference internal" href="#population.Population" title="population.Population"><em>Population</em></a><em>, </em><em>optional</em>) – Add the populations you would like to
see plotted</li>
<li><strong>files</strong> (<em>list</em><em>, </em><em>optional</em>) – List of population files to plot.</li>
<li><strong>frbcat</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to plot frbcat parameters. Defaults to
True</li>
<li><strong>show</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to display the plot or not. Mainly used
for debugging purposes. Defaults to True.</li>
<li><strong>port</strong> (<em>int</em>) – The port on which to launch Bokeh</li>
<li><strong>print_command</strong> (<em>bool</em>) – Whether to show the command do_plot is running</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-frbcat">
<span id="frbcat"></span><h2>frbcat<a class="headerlink" href="#module-frbcat" title="Permalink to this headline">¶</a></h2>
<p>Do things with frbcat.</p>
<dl class="class">
<dt id="frbcat.Frbcat">
<em class="property">class </em><code class="descclassname">frbcat.</code><code class="descname">Frbcat</code><span class="sig-paren">(</span><em>frbpoppy=True</em>, <em>one_per_frb=False</em>, <em>repeat_bursts=True</em>, <em>repeaters=True</em>, <em>update=False</em><span class="sig-paren">)</span><a class="headerlink" href="#frbcat.Frbcat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Do things with the frbcat.</p>
<p>Mostly used for playing nicely with frbpoppy. Get the pandas dataframe
with Frbcat().df</p>
<p>Initializing.</p>
<dl class="method">
<dt id="frbcat.Frbcat.clean">
<code class="descname">clean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#frbcat.Frbcat.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up the data.</p>
</dd></dl>

<dl class="method">
<dt id="frbcat.Frbcat.coor_trans">
<code class="descname">coor_trans</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#frbcat.Frbcat.coor_trans" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply coordinate transformations.</p>
</dd></dl>

<dl class="method">
<dt id="frbcat.Frbcat.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>one_per_frb=True</em>, <em>repeat_bursts=False</em>, <em>repeaters=True</em><span class="sig-paren">)</span><a class="headerlink" href="#frbcat.Frbcat.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter frbcat in various ways.</p>
</dd></dl>

<dl class="method">
<dt id="frbcat.Frbcat.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>internet=False</em>, <em>save=True</em>, <em>local=False</em><span class="sig-paren">)</span><a class="headerlink" href="#frbcat.Frbcat.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get frbcat from online or from a local file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>internet</strong> (<em>bool</em>) – Whether to get a new version of frbcat</li>
<li><strong>local</strong> (<em>bool</em>) – Whether to use a local version of frbcat</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="frbcat.Frbcat.match_surveys">
<code class="descname">match_surveys</code><span class="sig-paren">(</span><em>interrupt=True</em><span class="sig-paren">)</span><a class="headerlink" href="#frbcat.Frbcat.match_surveys" title="Permalink to this definition">¶</a></dt>
<dd><p>Match up frbs with surveys.</p>
</dd></dl>

<dl class="method">
<dt id="frbcat.Frbcat.to_pop">
<code class="descname">to_pop</code><span class="sig-paren">(</span><em>df=None</em><span class="sig-paren">)</span><a class="headerlink" href="#frbcat.Frbcat.to_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to a Population object.</p>
<p>Please ensure self.clean() has been run first.</p>
</dd></dl>

<dl class="method">
<dt id="frbcat.Frbcat.url_to_df">
<code class="descname">url_to_df</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#frbcat.Frbcat.url_to_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a url of a JSON table to a Pandas DataFrame.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>url</strong> (<em>str</em>) – URL to the webpage</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">DataFrame of JSON table</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">DataFrame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="frbcat.Frbcat.urls_to_df">
<code class="descname">urls_to_df</code><span class="sig-paren">(</span><em>endings</em>, <em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#frbcat.Frbcat.urls_to_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Use Series to loop over multiple webpages.</p>
<p>Proceed to concatenate them to a single DataFrame</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>endings</strong> (<em>iterables</em>) – The list/series/column over which to loop</li>
<li><strong>url</strong> (<em>str</em>) – The base url</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-frbs">
<span id="frbs"></span><h2>frbs<a class="headerlink" href="#module-frbs" title="Permalink to this headline">¶</a></h2>
<p>Class to hold FRB source properties.</p>
<dl class="class">
<dt id="frbs.FRBs">
<em class="property">class </em><code class="descclassname">frbs.</code><code class="descname">FRBs</code><a class="headerlink" href="#frbs.FRBs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class containing FRB properties</p>
<p>Initializing.</p>
<dl class="method">
<dt id="frbs.FRBs.apply">
<code class="descname">apply</code><span class="sig-paren">(</span><em>mask</em><span class="sig-paren">)</span><a class="headerlink" href="#frbs.FRBs.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a Numpy array to all parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mask</strong> (<em>array</em>) – Masking array to apply to all frb parameters.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="frbs.FRBs.to_df">
<code class="descname">to_df</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#frbs.FRBs.to_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert properties over to a Pandas DataFrame.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-galacticops">
<span id="galacticops"></span><h2>galacticops<a class="headerlink" href="#module-galacticops" title="Permalink to this headline">¶</a></h2>
<p>Series of galactic operations (doesn’t that sound cool?!).</p>
<p>…as in converting coordinates, calculating DM etc.</p>
<dl class="class">
<dt id="galacticops.Redshift">
<em class="property">class </em><code class="descclassname">galacticops.</code><code class="descname">Redshift</code><span class="sig-paren">(</span><em>z</em>, <em>H_0=67.74</em>, <em>W_m=0.3089</em>, <em>W_v=0.6911</em><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.Redshift" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class for converting redshift to other distance measures.</p>
<p>Convert redshift to a various measures.</p>
<p>Based on James Schombert’s python implementation of Edward L. Wright’s
cosmology calculator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>z</strong> (<em>array</em>) – Redshift</li>
<li><strong>self.H_0</strong> (<em>float</em><em>, </em><em>optional</em>) – Hubble parameter.</li>
<li><strong>self.W_m</strong> (<em>float</em><em>, </em><em>optional</em>) – Omega matter.</li>
<li><strong>self.W_v</strong> (<em>float</em><em>, </em><em>optional</em>) – Omega vacuum.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>One of the distance measures [Gpc], or comoving volume from</dt>
<dd><p class="first last">Earth to the source [Gpc^3]</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="galacticops.Redshift.dist_co">
<code class="descname">dist_co</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.Redshift.dist_co" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the corresponding comoving distance [Gpc].</p>
</dd></dl>

<dl class="method">
<dt id="galacticops.Redshift.dist_lum">
<code class="descname">dist_lum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.Redshift.dist_lum" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the corresponding luminosity distance [Gpc].</p>
</dd></dl>

<dl class="method">
<dt id="galacticops.Redshift.vol_co">
<code class="descname">vol_co</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.Redshift.vol_co" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the corresponding comoving volume [Gpc^3].</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="galacticops.dist_to_z">
<code class="descclassname">galacticops.</code><code class="descname">dist_to_z</code><span class="sig-paren">(</span><em>dist</em>, <em>H_0=67.74</em><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.dist_to_z" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate redshift from a distance in Gpc.</p>
<p>Only holds for z &lt;= 2. Formulas from ‘An Introduction to Modern
Astrophysics (2nd Edition)’ by Bradley W. Carroll, Dale A. Ostlie.
(Eq. 27.7)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dist</strong> (<em>float</em>) – Distance [Gpc].</li>
<li><strong>H_0</strong> (<em>float</em><em>, </em><em>optional</em>) – Hubble parameter. Defaults to 67.74</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Associated redshift</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">z (float)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="galacticops.ergspers_to_watts">
<code class="descclassname">galacticops.</code><code class="descname">ergspers_to_watts</code><span class="sig-paren">(</span><em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.ergspers_to_watts" title="Permalink to this definition">¶</a></dt>
<dd><p>Quick converstion from luminosity given in ergs/s to Watts.</p>
</dd></dl>

<dl class="function">
<dt id="galacticops.frac_deg">
<code class="descclassname">galacticops.</code><code class="descname">frac_deg</code><span class="sig-paren">(</span><em>ra</em>, <em>dec</em><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.frac_deg" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert coordinates expressed in hh:mm:ss to fractional degrees.</p>
</dd></dl>

<dl class="function">
<dt id="galacticops.ioka_dm_igm">
<code class="descclassname">galacticops.</code><code class="descname">ioka_dm_igm</code><span class="sig-paren">(</span><em>z</em>, <em>slope=1200</em>, <em>sigma=None</em><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.ioka_dm_igm" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the contribution of the igm to the dispersion measure.</p>
<p>Follows Ioka (2003) and Inoue (2004)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>z</strong> (<em>float</em>) – Redshift of source</li>
<li><strong>slope</strong> (<em>int</em><em>, </em><em>optional</em>) – Slope of relationship</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dispersion measure of intergalactic medium [pc/cm^3]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dm_igm (float)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="galacticops.lb_to_radec">
<code class="descclassname">galacticops.</code><code class="descname">lb_to_radec</code><span class="sig-paren">(</span><em>l</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.lb_to_radec" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert galactic coordinates to RA, Dec.</p>
<p>Formulas from ‘An Introduction to Modern Astrophysics (2nd Edition)’ by
Bradley W. Carroll, Dale A. Ostlie (Eq. 24.19 onwards).</p>
<p>NOTE: This function is not as accurate as the astropy conversion, nor as
the Javascript calculators found online. However, as using astropy was
prohibitively slow while running over large populations, frbpoppy uses this
function. While this function is not as accurate, the under/over
estimations of the coordinates are equally distributed meaning the errors
cancel each other in the limit of large populations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>l</strong> (<em>float</em>) – Galactic longitude [fractional degrees]</li>
<li><strong>b</strong> (<em>float</em>) – Galactic latitude [fractional degrees]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Right ascension and declination [fractional degrees]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ra, dec (float)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="galacticops.lb_to_xyz">
<code class="descclassname">galacticops.</code><code class="descname">lb_to_xyz</code><span class="sig-paren">(</span><em>gl</em>, <em>gb</em>, <em>dist</em><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.lb_to_xyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert galactic coordinates to galactic XYZ.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>l</strong> (<em>float</em>) – Galactic longitude [fractional degrees]</li>
<li><strong>b</strong> (<em>float</em>) – Galactic latitude [fractional degrees]</li>
<li><strong>dist</strong> (<em>float</em>) – Distance to source [Gpc]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Galactic XYZ [Gpc]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">gx, gy, gz</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="galacticops.load_T_sky">
<code class="descclassname">galacticops.</code><code class="descname">load_T_sky</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.load_T_sky" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the Haslam sky temperature map into a list from which temperatures can
be retrieved. The temperature sky map is given in the weird units of
HealPix, and despite looking up info on this coordinate system, I don’t
have the foggiest idea of how to transform these to galactic coordinates. I
have therefore directly copied the following code from psrpoppy in the
assumption Sam Bates managed to figure it out.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of sky temperatures in HealPix? coordinates?</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">t_sky_list (list)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="galacticops.ne2001_dist_to_dm">
<code class="descclassname">galacticops.</code><code class="descname">ne2001_dist_to_dm</code><span class="sig-paren">(</span><em>dist</em>, <em>gl</em>, <em>gb</em><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.ne2001_dist_to_dm" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert position to a dispersion measure using NE2001.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dist</strong> (<em>float</em>) – Distance to source [Gpc]. Distance will be cut at 100kpc,
as NE2001 can not cope with larger distances. This value
should be more than enough to clear the Milky Way.</li>
<li><strong>gl</strong> (<em>float</em>) – Galactic longitude [fractional degrees]</li>
<li><strong>gb</strong> (<em>float</em>) – Galactic latitude [fractional degrees]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dispersion measure [pc*cm^-3]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dm (float)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="galacticops.ne2001_get_smtau">
<code class="descclassname">galacticops.</code><code class="descname">ne2001_get_smtau</code><span class="sig-paren">(</span><em>dist</em>, <em>gl</em>, <em>gb</em><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.ne2001_get_smtau" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the NE2001 model to calculate scattering measure.</p>
<p>Calculations based on work presented in Cordes &amp; Lazio
(1991, DOI: 10.1086/170261)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dist</strong> (<em>array</em>) – Distance to source [kpc]. Distance will be cut at 100 kpc
as NE2001 can not cope with larger distances. Therefore
the calculated scattering will only be that from the
Milky Way.</li>
<li><strong>gl</strong> (<em>array</em>) – Galactic longitude [fractional degrees]</li>
<li><strong>gb</strong> (<em>array</em>) – Galactic latitude [fractional degrees]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Scattering measure
smtau (array): Scattering measure, but unsure why different to sm</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">sm (array)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="galacticops.ne2001_scint_time_bw">
<code class="descclassname">galacticops.</code><code class="descname">ne2001_scint_time_bw</code><span class="sig-paren">(</span><em>dist</em>, <em>gl</em>, <em>gb</em>, <em>freq</em><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.ne2001_scint_time_bw" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the NE2001 model to get the diffractive scintillation timescale.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dist</strong> (<em>array</em>) – Distance to source [Gpc]. Distance will be cut at 100 kpc
as NE2001 can not cope with larger distances. Therefore
the calculated scintillation timescale will only be that
from the Milky Way.</li>
<li><strong>gl</strong> (<em>array</em>) – Galactic longitude [fractional degrees]</li>
<li><strong>gb</strong> (<em>array</em>) – Galactic latitude [fractional degrees]</li>
<li><strong>freq</strong> (<em>float</em>) – Observing frequency [MHz]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Diffractive scintillation timescale [Hz]
scint_bw (float): Scintillation bandwidth [Hz]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">scint_time (float)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="galacticops.radec_to_lb">
<code class="descclassname">galacticops.</code><code class="descname">radec_to_lb</code><span class="sig-paren">(</span><em>ra</em>, <em>dec</em>, <em>frac=False</em><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.radec_to_lb" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert from ra, dec to galactic coordinates.</p>
<p>Formulas from ‘An Introduction to Modern Astrophysics (2nd Edition)’ by
Bradley W. Carroll, Dale A. Ostlie (Eq. 24.16 onwards).</p>
<p>NOTE: This function is not as accurate as the astropy conversion, nor as
the Javascript calculators found online. However, as using astropy was
prohibitively slow while running over large populations, we use this
function. While this function is not as accurate, the under/over
estimations of the coordinates are equally distributed meaning the errors
cancel each other in the limit of large populations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ra</strong> (<em>string</em>) – Right ascension given in the form ‘19:06:53’</li>
<li><strong>dec</strong> (<em>string</em>) – Declination given in the form ‘-40:37:14’</li>
<li><strong>frac</strong> (<em>bool</em>) – Denote whether coordinates are already fractional or not</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Galactic longitude and latitude [fractional degrees]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">gl, gb (float)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="galacticops.scatter_bhat">
<code class="descclassname">galacticops.</code><code class="descname">scatter_bhat</code><span class="sig-paren">(</span><em>dm</em>, <em>offset=-6.46</em>, <em>scindex=-3.86</em>, <em>freq=1400.0</em><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.scatter_bhat" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate scattering timescale (values default to those from Bhat et al.
(2004, DOI:10.1086/382680) and to simluate the scatter around this
relationship, draw from a Gaussian around this value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dm</strong> (<em>array</em>) – Dispersion measure [pc*cm^-3]</li>
<li><strong>offset</strong> (<em>float</em>) – Offset of scattering relationship. Defaults to -6.46</li>
<li><strong>scindex</strong> (<em>float</em>) – Scattering index. Defaults to -3.86</li>
<li><strong>freq</strong> (<em>float</em>) – Frequency at which to evaluate scattering time [MHz].
Defaults to 1400 MHz</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Scattering timescale [ms]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="galacticops.separation">
<code class="descclassname">galacticops.</code><code class="descname">separation</code><span class="sig-paren">(</span><em>ra_1</em>, <em>dec_1</em>, <em>ra_2</em>, <em>dec_2</em><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.separation" title="Permalink to this definition">¶</a></dt>
<dd><p>Separation between points on sky [degree].</p>
<p>Using a special case of the Vincenty formula for an ellipsoid with equal
major and minor axes.</p>
<p>See <a class="reference external" href="https://en.wikipedia.org/wiki/Great-circle_distance">https://en.wikipedia.org/wiki/Great-circle_distance</a> for more info.</p>
</dd></dl>

<dl class="function">
<dt id="galacticops.z_to_d_approx">
<code class="descclassname">galacticops.</code><code class="descname">z_to_d_approx</code><span class="sig-paren">(</span><em>z</em>, <em>H_0=67.74</em><span class="sig-paren">)</span><a class="headerlink" href="#galacticops.z_to_d_approx" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate distance in Gpc from a redshift.</p>
<p>Only holds for z &lt;= 2. Formulas from ‘An Introduction to Modern
Astrophysics (2nd Edition)’ by Bradley W. Carroll, Dale A. Ostlie.
(Eq. 27.7)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>z</strong> (<em>float</em>) – Redshift</li>
<li><strong>H_0</strong> (<em>float</em><em>, </em><em>optional</em>) – Hubble parameter. Defaults to 67.74</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Associated distance [Gpc]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dist (float)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-log">
<span id="log"></span><h2>log<a class="headerlink" href="#module-log" title="Permalink to this headline">¶</a></h2>
<p>Quick and dirty logging functions.</p>
<dl class="function">
<dt id="log.hist">
<code class="descclassname">log.</code><code class="descname">hist</code><span class="sig-paren">(</span><em>parameter</em>, <em>bins='lin'</em>, <em>n_bins=25</em>, <em>norm=True</em><span class="sig-paren">)</span><a class="headerlink" href="#log.hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bin up a parameter either in a lin or log space.</p>
<p>Why is this not a standard option in numpy or matplotlib?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>parameter</strong> (<em>array</em>) – To be binned</li>
<li><strong>bins</strong> (<em>str</em>) – Either ‘lin’ or ‘log’</li>
<li><strong>n_bins</strong> (<em>int</em>) – Number of bins. Can be overriden internally</li>
<li><strong>norm</strong> (<em>bool</em>) – Whether to normalise</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bin centers, values per bin</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="log.pprint">
<code class="descclassname">log.</code><code class="descname">pprint</code><span class="sig-paren">(</span><em>*s</em>, <em>output=True</em><span class="sig-paren">)</span><a class="headerlink" href="#log.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Hack to make for more informative print statements.</p>
</dd></dl>

<dl class="function">
<dt id="log.progressbar">
<code class="descclassname">log.</code><code class="descname">progressbar</code><span class="sig-paren">(</span><em>it</em>, <em>prefix=''</em>, <em>size=69</em>, <em>file=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='UTF-8'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#log.progressbar" title="Permalink to this definition">¶</a></dt>
<dd><p>Progressbar from adapted from Stack Overflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>it</strong> (<em>generator</em>) – range of values</li>
<li><strong>prefix</strong> (<em>str</em>) – Words displayed before the progress bar</li>
<li><strong>size</strong> (<em>int</em>) – Display width</li>
<li><strong>file</strong> – Where to direct output</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Description of returned object.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">type</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-number_density">
<span id="number-density"></span><h2>number_density<a class="headerlink" href="#module-number_density" title="Permalink to this headline">¶</a></h2>
<p>Group together various number density descriptors.</p>
<dl class="class">
<dt id="number_density.NumberDensity">
<em class="property">class </em><code class="descclassname">number_density.</code><code class="descname">NumberDensity</code><span class="sig-paren">(</span><em>model='vol_co'</em>, <em>z_max=6.0</em>, <em>H_0=67.74</em>, <em>W_m=0.3089</em>, <em>W_v=0.6911</em>, <em>alpha=-1.5</em><span class="sig-paren">)</span><a class="headerlink" href="#number_density.NumberDensity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class for cosmic number density.</p>
<p>Draw from particular number density distributions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>model</strong> (<em>str</em>) – Which number density to follow.</li>
<li><strong>z_max</strong> (<em>float</em>) – Maximum redshift to which to draw.</li>
<li><strong>vol_co_max</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum comoving redshift [Gpc^3].</li>
<li><strong>dist_co_max</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum comoving distance [Gpc].</li>
<li><strong>alpha</strong> (<em>float</em><em>, </em><em>optional</em>) – Desired log N log S slope for a perfect,
non-cosmological population.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="number_density.NumberDensity.from_sfr">
<code class="descname">from_sfr</code><span class="sig-paren">(</span><em>n_gen=1</em><span class="sig-paren">)</span><a class="headerlink" href="#number_density.NumberDensity.from_sfr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get sources to follow star forming rate.</p>
<p>Return a random redshift for sources following the Star Formation Rate.</p>
<p>Follows Madau &amp; Dickinson (2014), eq. 15. For more info see
<a class="reference external" href="https://arxiv.org/pdf/1403.0007.pdf">https://arxiv.org/pdf/1403.0007.pdf</a></p>
</dd></dl>

<dl class="method">
<dt id="number_density.NumberDensity.from_smd">
<code class="descname">from_smd</code><span class="sig-paren">(</span><em>n_gen=1</em><span class="sig-paren">)</span><a class="headerlink" href="#number_density.NumberDensity.from_smd" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a random redshift for sources following Stellar Mass Density.</p>
<p>Follows Madau &amp; Dickinson (2014), eq. 2 &amp; 15. For more info see
<a class="reference external" href="https://arxiv.org/pdf/1403.0007.pdf">https://arxiv.org/pdf/1403.0007.pdf</a></p>
</dd></dl>

<dl class="method">
<dt id="number_density.NumberDensity.from_vol_co">
<code class="descname">from_vol_co</code><span class="sig-paren">(</span><em>n_gen=1</em><span class="sig-paren">)</span><a class="headerlink" href="#number_density.NumberDensity.from_vol_co" title="Permalink to this definition">¶</a></dt>
<dd><p>Use constant number density of sources per comoving volume.</p>
<p>Can be influenced by changing alpha.</p>
</dd></dl>

<dl class="method">
<dt id="number_density.NumberDensity.sloped_dist">
<code class="descname">sloped_dist</code><span class="sig-paren">(</span><em>n_gen=1</em><span class="sig-paren">)</span><a class="headerlink" href="#number_density.NumberDensity.sloped_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw from a sloped distribution to create a logNlogS slope.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-paths">
<span id="paths"></span><h2>paths<a class="headerlink" href="#module-paths" title="Permalink to this headline">¶</a></h2>
<p>Set all possible needed paths.</p>
<dl class="class">
<dt id="paths.Paths">
<em class="property">class </em><code class="descclassname">paths.</code><code class="descname">Paths</code><a class="headerlink" href="#paths.Paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>All directory paths.</p>
<p>Initialise.</p>
<dl class="method">
<dt id="paths.Paths.check">
<code class="descname">check</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#paths.Paths.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform checks on path.</p>
</dd></dl>

<dl class="method">
<dt id="paths.Paths.data">
<code class="descname">data</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#paths.Paths.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Where all results are to be stored.</p>
</dd></dl>

<dl class="method">
<dt id="paths.Paths.frbcat">
<code class="descname">frbcat</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#paths.Paths.frbcat" title="Permalink to this definition">¶</a></dt>
<dd><p>Where all frbcatalogues are to be stored.</p>
</dd></dl>

<dl class="method">
<dt id="paths.Paths.models">
<code class="descname">models</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#paths.Paths.models" title="Permalink to this definition">¶</a></dt>
<dd><p>Where all models are to be stored.</p>
</dd></dl>

<dl class="method">
<dt id="paths.Paths.populations">
<code class="descname">populations</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#paths.Paths.populations" title="Permalink to this definition">¶</a></dt>
<dd><p>Where all populations are to be stored.</p>
</dd></dl>

<dl class="method">
<dt id="paths.Paths.results">
<code class="descname">results</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#paths.Paths.results" title="Permalink to this definition">¶</a></dt>
<dd><p>Where all results are to be stored.</p>
</dd></dl>

<dl class="method">
<dt id="paths.Paths.store">
<code class="descname">store</code><span class="sig-paren">(</span><em>name</em>, <em>default</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#paths.Paths.store" title="Permalink to this definition">¶</a></dt>
<dd><p>Where files are to be stored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>str</em>) – Which group of files, populations, results etc</li>
<li><strong>default</strong> (<em>str</em>) – Default path for the group</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The path of the group</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">path (str)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="paths.Paths.surveys">
<code class="descname">surveys</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#paths.Paths.surveys" title="Permalink to this definition">¶</a></dt>
<dd><p>Where all surveys are to be stored.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-plot">
<span id="plot"></span><h2>plot<a class="headerlink" href="#module-plot" title="Permalink to this headline">¶</a></h2>
<p>Allow FRB populations to be explored interactively.</p>
<p>Can be run with:</p>
<blockquote>
<div>$ bokeh serve –show code/plot.py –args &lt;pop_example.csv&gt;</div></blockquote>
<p>in which all csv-files with populations can be given after <code class="docutils literal"><span class="pre">--args</span></code>, and as
well as the optional arguments of <code class="docutils literal"><span class="pre">-noshow</span></code> and <code class="docutils literal"><span class="pre">-nofrbcat</span></code>, to
respectively not show the resulting plot, and to not overplot frbcat</p>
<dl class="class">
<dt id="plot.Plot">
<em class="property">class </em><code class="descclassname">plot.</code><code class="descname">Plot</code><span class="sig-paren">(</span><em>files=[]</em>, <em>frbcat=True</em><span class="sig-paren">)</span><a class="headerlink" href="#plot.Plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Gather plotting options.</p>
<p>Initializing.</p>
<dl class="method">
<dt id="plot.Plot.get_data">
<code class="descname">get_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plot.Plot.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in populations.</p>
</dd></dl>

<dl class="method">
<dt id="plot.Plot.make_histogram">
<code class="descname">make_histogram</code><span class="sig-paren">(</span><em>kind='lin'</em><span class="sig-paren">)</span><a class="headerlink" href="#plot.Plot.make_histogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up a histogram plot.</p>
</dd></dl>

<dl class="method">
<dt id="plot.Plot.make_scatter">
<code class="descname">make_scatter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plot.Plot.make_scatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up a scatter plot.</p>
</dd></dl>

<dl class="method">
<dt id="plot.Plot.set_colours">
<code class="descname">set_colours</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plot.Plot.set_colours" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine which colours need to be used.</p>
</dd></dl>

<dl class="method">
<dt id="plot.Plot.set_layout">
<code class="descname">set_layout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plot.Plot.set_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the plot layout.</p>
</dd></dl>

<dl class="method">
<dt id="plot.Plot.set_widgets">
<code class="descname">set_widgets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plot.Plot.set_widgets" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up widget details.</p>
</dd></dl>

<dl class="method">
<dt id="plot.Plot.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plot.Plot.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update plots when interacted with.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="plot.Tab">
<em class="property">class </em><code class="descclassname">plot.</code><code class="descname">Tab</code><a class="headerlink" href="#plot.Tab" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Gather all elements needed for a plot.</p>
<p>Initializing.</p>
</dd></dl>

</div>
<div class="section" id="module-population">
<span id="population"></span><h2>population<a class="headerlink" href="#module-population" title="Permalink to this headline">¶</a></h2>
<p>Define a class to hold a population of FRBs.</p>
<dl class="class">
<dt id="population.Population">
<em class="property">class </em><code class="descclassname">population.</code><code class="descname">Population</code><a class="headerlink" href="#population.Population" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class to hold a population of FRBs.</p>
<p>Initializing.</p>
<dl class="method">
<dt id="population.Population.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>extention='p'</em><span class="sig-paren">)</span><a class="headerlink" href="#population.Population.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Write out source properties as data file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>extention</strong> (<em>str</em>) – Type of file to save.
Choice from [‘csv’, ‘dat’, ‘p’]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="population.Population.to_csv">
<code class="descname">to_csv</code><span class="sig-paren">(</span><em>path</em>, <em>sep='</em>, <em>'</em><span class="sig-paren">)</span><a class="headerlink" href="#population.Population.to_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a population to a csv file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<em>str</em>) – Path to which to write</li>
<li><strong>sep</strong> (<em>str</em>) – Seperator character</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="population.Population.to_df">
<code class="descname">to_df</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#population.Population.to_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather source values into a pandas dataframe.</p>
</dd></dl>

<dl class="method">
<dt id="population.Population.to_pickle">
<code class="descname">to_pickle</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#population.Population.to_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a population to a pickled file for future use.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – Path to which to write</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="population.split_pop">
<code class="descclassname">population.</code><code class="descname">split_pop</code><span class="sig-paren">(</span><em>pop</em>, <em>mask</em><span class="sig-paren">)</span><a class="headerlink" href="#population.split_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a population.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pop</strong> (<a class="reference internal" href="#population.Population" title="population.Population"><em>Population</em></a>) – Population to be split</li>
<li><strong>mask</strong> (<em>Numpy</em>) – Numpy boolean mask</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Tuple of population classes</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="population.unpickle">
<code class="descclassname">population.</code><code class="descname">unpickle</code><span class="sig-paren">(</span><em>filename=None</em>, <em>uid=None</em><span class="sig-paren">)</span><a class="headerlink" href="#population.unpickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Quick function to unpickle a population.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – Define the path to the pickled population,
or give the population name</li>
<li><strong>uid</strong> (<em>str</em><em>, </em><em>optional</em>) – Unique Identifier</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Population class</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#population.Population" title="population.Population">Population</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-precalc">
<span id="precalc"></span><h2>precalc<a class="headerlink" href="#module-precalc" title="Permalink to this headline">¶</a></h2>
<p>Create a lookup tables for redshift and the NE2001 dispersion measure.</p>
<dl class="class">
<dt id="precalc.DistanceTable">
<em class="property">class </em><code class="descclassname">precalc.</code><code class="descname">DistanceTable</code><span class="sig-paren">(</span><em>H_0=67.74</em>, <em>W_m=0.3089</em>, <em>W_v=0.6911</em>, <em>test=False</em><span class="sig-paren">)</span><a class="headerlink" href="#precalc.DistanceTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Create/use a lookup table for comoving distance, volume, redshift etc.</p>
<p>Create a list of tuples to lookup the corresponding redshift for a comoving
distance [Gpc] (or the other way around). Uses formulas from
Hoggs et al. (1999) for the cosmological calculations. To avoid long
calculation times, it will check if a previous run with the same parameters
has been done, which it will then load it. If not, it will calculate a new
table, and save the table for later runs. Covers z, dist, vol, dvol,
cdf_sfr and cdf_smd.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>H_0</strong> (<em>float</em><em>, </em><em>optional</em>) – Hubble parameter. Defaults to 67.74 km/s/Mpc</li>
<li><strong>W_m</strong> (<em>float</em><em>, </em><em>optional</em>) – Omega matter. Defaults to 0.3089</li>
<li><strong>W_k</strong> (<em>float</em><em>, </em><em>optional</em>) – Omega vacuum. Defaults to 0.6911</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Initializing.</p>
<dl class="method">
<dt id="precalc.DistanceTable.create_table">
<code class="descname">create_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#precalc.DistanceTable.create_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a lookup table for distances.</p>
</dd></dl>

<dl class="method">
<dt id="precalc.DistanceTable.lookup">
<code class="descname">lookup</code><span class="sig-paren">(</span><em>z=None</em>, <em>dist_co=None</em>, <em>vol_co=None</em>, <em>dvol_co=None</em>, <em>cdf_sfr=None</em>, <em>cdf_smd=None</em><span class="sig-paren">)</span><a class="headerlink" href="#precalc.DistanceTable.lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up associated values with input values.</p>
</dd></dl>

<dl class="method">
<dt id="precalc.DistanceTable.set_file_name">
<code class="descname">set_file_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#precalc.DistanceTable.set_file_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine filename.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="precalc.NE2001Table">
<em class="property">class </em><code class="descclassname">precalc.</code><code class="descname">NE2001Table</code><span class="sig-paren">(</span><em>test=False</em><span class="sig-paren">)</span><a class="headerlink" href="#precalc.NE2001Table" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Create/use a NE2001 lookup table for dispersion measure.</p>
<p>Initializing.</p>
<dl class="method">
<dt id="precalc.NE2001Table.create_table">
<code class="descname">create_table</code><span class="sig-paren">(</span><em>parallel=True</em><span class="sig-paren">)</span><a class="headerlink" href="#precalc.NE2001Table.create_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a lookup table for dispersion measure.</p>
</dd></dl>

<dl class="method">
<dt id="precalc.NE2001Table.lookup">
<code class="descname">lookup</code><span class="sig-paren">(</span><em>gal</em>, <em>gab</em><span class="sig-paren">)</span><a class="headerlink" href="#precalc.NE2001Table.lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up associated milky way dispersion measure with gal coords.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>gl</strong> (<em>array</em>) – Galactic longitude [fractional degrees]</li>
<li><strong>gb</strong> (<em>array</em>) – Galactic latitude [fractional degrees]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Galactic dispersion measure [pc*cm^-3]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dm_mw (float)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="precalc.NE2001Table.set_file_name">
<code class="descname">set_file_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#precalc.NE2001Table.set_file_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine filename.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="precalc.sfr">
<code class="descclassname">precalc.</code><code class="descname">sfr</code><span class="sig-paren">(</span><em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#precalc.sfr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number density of star forming rate at redshift z.</p>
<p>Follows Madau &amp; Dickinson (2014), eq. 15. For more info see
<a class="reference external" href="https://arxiv.org/pdf/1403.0007.pdf">https://arxiv.org/pdf/1403.0007.pdf</a></p>
</dd></dl>

<dl class="function">
<dt id="precalc.smd">
<code class="descclassname">precalc.</code><code class="descname">smd</code><span class="sig-paren">(</span><em>z</em>, <em>H_0=67.74</em>, <em>W_m=0.3089</em>, <em>W_v=0.6911</em><span class="sig-paren">)</span><a class="headerlink" href="#precalc.smd" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number density of Stellar Mass Density at redshift z.</p>
<p>Follows Madau &amp; Dickinson (2014), eq. 2 &amp; 15. For more info see
<a class="reference external" href="https://arxiv.org/pdf/1403.0007.pdf">https://arxiv.org/pdf/1403.0007.pdf</a></p>
</dd></dl>

</div>
<div class="section" id="module-rates">
<span id="rates"></span><h2>rates<a class="headerlink" href="#module-rates" title="Permalink to this headline">¶</a></h2>
<p>Classes to hold rate counters.</p>
<dl class="class">
<dt id="rates.Rates">
<em class="property">class </em><code class="descclassname">rates.</code><code class="descname">Rates</code><a class="headerlink" href="#rates.Rates" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class to hold rate counters.</p>
<p>Initializing.</p>
<dl class="attribute">
<dt id="rates.Rates.exp">
<code class="descname">exp</code><a class="headerlink" href="#rates.Rates.exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Days before an FRB is detected.</p>
</dd></dl>

<dl class="method">
<dt id="rates.Rates.tot">
<code class="descname">tot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rates.Rates.tot" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the total number of rates.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="rates.scale">
<code class="descclassname">rates.</code><code class="descname">scale</code><span class="sig-paren">(</span><em>rates</em>, <em>area=True</em>, <em>time=False</em><span class="sig-paren">)</span><a class="headerlink" href="#rates.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale rates.</p>
</dd></dl>

</div>
<div class="section" id="module-survey_pop">
<span id="survey-pop"></span><h2>survey_pop<a class="headerlink" href="#module-survey_pop" title="Permalink to this headline">¶</a></h2>
<p>Class to generate a survey population of FRBs.</p>
<dl class="class">
<dt id="survey_pop.SurveyPopulation">
<em class="property">class </em><code class="descclassname">survey_pop.</code><code class="descname">SurveyPopulation</code><span class="sig-paren">(</span><em>cosmic_pop</em>, <em>survey</em>, <em>scat=False</em>, <em>scin=False</em>, <em>rate_limit=True</em><span class="sig-paren">)</span><a class="headerlink" href="#survey_pop.SurveyPopulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">frbpoppy.population.Population</span></code></p>
<p>Class to create a survey population of FRBs.</p>
<p>Run a survey to detect FRB sources.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cosmic_pop</strong> (<a class="reference internal" href="#population.Population" title="population.Population"><em>Population</em></a>) – Population class of FRB sources to observe</li>
<li><strong>survey</strong> (<a class="reference internal" href="#survey.Survey" title="survey.Survey"><em>Survey</em></a>) – Survey class with which to observe</li>
<li><strong>scat</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to include scattering in signal to
noise calculations.</li>
<li><strong>scin</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to apply scintillation to
observations.</li>
<li><strong>rate_limit</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to limit detections by 1/(1+z)
due to limitation in observing time</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="survey_pop.SurveyPopulation.calc_logn_logs">
<code class="descname">calc_logn_logs</code><span class="sig-paren">(</span><em>parameter='fluence'</em>, <em>min_p=None</em>, <em>max_p=None</em><span class="sig-paren">)</span><a class="headerlink" href="#survey_pop.SurveyPopulation.calc_logn_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO. Currently unfinished.</p>
</dd></dl>

<dl class="method">
<dt id="survey_pop.SurveyPopulation.calc_rates">
<code class="descname">calc_rates</code><span class="sig-paren">(</span><em>survey</em><span class="sig-paren">)</span><a class="headerlink" href="#survey_pop.SurveyPopulation.calc_rates" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the relative detection rates.</p>
</dd></dl>

<dl class="method">
<dt id="survey_pop.SurveyPopulation.rates">
<code class="descname">rates</code><span class="sig-paren">(</span><em>scale_area=True</em>, <em>scale_time=False</em><span class="sig-paren">)</span><a class="headerlink" href="#survey_pop.SurveyPopulation.rates" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale the rates by the beam area and time.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-survey">
<span id="survey"></span><h2>survey<a class="headerlink" href="#module-survey" title="Permalink to this headline">¶</a></h2>
<p>Class holding survey properties.</p>
<dl class="class">
<dt id="survey.Survey">
<em class="property">class </em><code class="descclassname">survey.</code><code class="descname">Survey</code><span class="sig-paren">(</span><em>name</em>, <em>gain_pattern='gaussian'</em>, <em>n_sidelobes=0.5</em>, <em>pointings=[]</em>, <em>max_time=1</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Method containing survey parameters and functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – Name of survey with which to observe population. Can
either be a predefined survey present in frbpoppy or a path name to
a new survey filename</li>
<li><strong>gain_pattern</strong> (<em>str</em>) – Set gain pattern</li>
<li><strong>n_sidelobes</strong> (<em>float</em>) – Number of sidelobes to include. Use 0.5 for
cutting beam at FWHM</li>
<li><strong>pointings</strong> (<em>list</em>) – List of (RA, Dec) coordinates</li>
<li><strong>max_time</strong> (<em>float</em>) – Maximum time spent surveying [days]</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Initializing.</p>
<dl class="method">
<dt id="survey.Survey.calc_T_sky">
<code class="descname">calc_T_sky</code><span class="sig-paren">(</span><em>frbs</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.calc_T_sky" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the sky temperature from the Haslam table.</p>
<p>Afterwards scale to the survey frequency. The temperature sky map is
given in the weird units of HealPix and despite looking up info on this
coordinate system, I don’t have the foggiest idea of how to transform
these to galactic coordinates. I have therefore directly copied the
following code from psrpoppy in the assumption Sam Bates managed to
figure it out.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frbs</strong> (<a class="reference internal" href="#frbs.FRBs" title="frbs.FRBs"><em>FRBs</em></a>) – Needed for coordinates</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Sky temperature [K]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="survey.Survey.calc_Ts">
<code class="descname">calc_Ts</code><span class="sig-paren">(</span><em>frbs</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.calc_Ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Set temperatures for frbs.</p>
</dd></dl>

<dl class="method">
<dt id="survey.Survey.calc_fluence">
<code class="descname">calc_fluence</code><span class="sig-paren">(</span><em>frbs</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.calc_fluence" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate fluence [Jy*ms].</p>
</dd></dl>

<dl class="method">
<dt id="survey.Survey.calc_fluence_limit">
<code class="descname">calc_fluence_limit</code><span class="sig-paren">(</span><em>w_eff=None</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.calc_fluence_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the fluence limit.</p>
<p>Read Keane, Petroff (2015) for more details on how this is calculated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>w_eff</strong> – Pulse width at which to calculate the fluence limit [ms].
Default sets this to be at the maximum searched pulse width.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Fluence limit for a maximum pulse width burst [Jy ms]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="survey.Survey.calc_s_peak">
<code class="descname">calc_s_peak</code><span class="sig-paren">(</span><em>frbs</em>, <em>f_low=10000000.0</em>, <em>f_high=10000000000.0</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.calc_s_peak" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the mean spectral flux density.</p>
<p>Following Lorimer et al, 2013, eq. 9., at the central frequency
of the survey.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>frbs</strong> (<a class="reference internal" href="#frbs.FRBs" title="frbs.FRBs"><em>FRBs</em></a>) – FRBs</li>
<li><strong>f_low</strong> (<em>float</em>) – Source emission lower frequency limit [Hz].</li>
<li><strong>f_high</strong> (<em>float</em>) – Source emission higher frequency limit [Hz].</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Mean spectral flux density [Jy]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="survey.Survey.calc_scat">
<code class="descname">calc_scat</code><span class="sig-paren">(</span><em>dm</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.calc_scat" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate scattering timescale for FRBs.</p>
<p>Offset according to Lorimer et al. (doi:10.1093/mnrasl/slt098)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dm</strong> (<em>array</em>) – Dispersion Measure</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Scattering timescales [ms]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="survey.Survey.calc_scint">
<code class="descname">calc_scint</code><span class="sig-paren">(</span><em>frbs</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.calc_scint" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate scintillation effect on the signal to noise ratio.</p>
<p>(Rather than adapting the flux, as the snr can change per survey
attempt). Formulas based on ‘Handbook of Pulsar Astronomy” by Duncan
Lorimer &amp; Michael Kramer, section 4.2. Test this before applying - no
rigorous testing has been applied to this.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frbs</strong> (<a class="reference internal" href="#frbs.FRBs" title="frbs.FRBs"><em>FRBs</em></a>) – FRBs</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Signal to noise ratio modulation factors for scintillation</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="survey.Survey.calc_snr">
<code class="descname">calc_snr</code><span class="sig-paren">(</span><em>frbs</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.calc_snr" title="Permalink to this definition">¶</a></dt>
<dd><p>Caculate the SNR of several frbs.</p>
<p>Radiometer equation for single pulse (Dewey et al., 1984), but
adapted to allow for a degradation factor reducing the peak flux
as a pulse is stretched</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frbs</strong> (<a class="reference internal" href="#frbs.FRBs" title="frbs.FRBs"><em>FRBs</em></a>) – FRBs of which to calculate the signal to noise</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>Signal to noise ratio based on the radiometer</dt>
<dd>equation for a single pulse.</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="survey.Survey.calc_w_eff">
<code class="descname">calc_w_eff</code><span class="sig-paren">(</span><em>frbs</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.calc_w_eff" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate effective pulse width [ms].</p>
<p>From Narayan (1987, DOI: 10.1086/165442), and also Cordes &amp; McLaughlin
(2003, DOI: 10.1086/378231). For details see p. 30 of Emily Petroff’s
thesis (2016), found here: <a class="reference external" href="http://hdl.handle.net/1959.3/417307">http://hdl.handle.net/1959.3/417307</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frbs</strong> (<a class="reference internal" href="#frbs.FRBs" title="frbs.FRBs"><em>FRBs</em></a>) – FRBs for which to calculate effective pulse width.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Effective pulse width [ms]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="survey.Survey.dm_smear">
<code class="descname">dm_smear</code><span class="sig-paren">(</span><em>frbs</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.dm_smear" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate delay in pulse across a channel due to dm smearing.</p>
<p>Formula’s based on ‘Handbook of Pulsar Astronomy” by Duncan Lorimer
&amp; Michael Kramer, section A2.4. Note the power of the forefactor has
changed due to the central frequency being given in MHz.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frbs</strong> (<a class="reference internal" href="#frbs.FRBs" title="frbs.FRBs"><em>FRBs</em></a>) – FRB object with a dm attribute</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Time of delay [ms] at central band frequency</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">t_dm (array)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="survey.Survey.in_pointings">
<code class="descname">in_pointings</code><span class="sig-paren">(</span><em>frbs</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.in_pointings" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether within pointing.</p>
</dd></dl>

<dl class="method">
<dt id="survey.Survey.in_region">
<code class="descname">in_region</code><span class="sig-paren">(</span><em>frbs</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.in_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the given frbs are within the survey region.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frbs</strong> (<em>Frbs</em>) – Frbs of which to check whether in survey region</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Boolean mask denoting whether frbs are within survey region</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="survey.Survey.intensity_profile">
<code class="descname">intensity_profile</code><span class="sig-paren">(</span><em>shape=1</em>, <em>dimensions=2</em>, <em>rep_loc='random'</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.intensity_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate intensity profile.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>shape</strong> (<em>tuple</em>) – Usually the shape of frbs.s_peak</li>
<li><strong>dimensions</strong> (<em>int</em>) – Use a 2D beampattern or a 1D one.</li>
<li><strong>rep_loc</strong> (<em>str</em>) – ‘same’ or ‘random’. Whether repeaters are observed
in the same spot or a different spot</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">intensity profile, offset from beam [arcmin]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array, array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="survey.Survey.max_offset">
<code class="descname">max_offset</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.max_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the maximum offset of an FRB in an Airy disk.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong> (<em>int</em>) – Maximum sidelobe wanted</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="survey.Survey.read_survey_parameters">
<code class="descname">read_survey_parameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#survey.Survey.read_survey_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in survey parameters.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo_150.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="index.html">frbpoppy</a></h1>



<p class="blurb">Fast Radio Burst Population Synthesis in Python</p>








<h3><a href="index.html">Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="get_started.html">Get Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="documentation.html">Documentation</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="documentation.html">Documentation</a><ul>
      <li>Previous: <a href="documentation.html" title="previous chapter">Documentation</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <!-- <div><input type="submit" value="Go" /></div> -->
      <!-- <input type="hidden" name="check_keywords" value="yes" /> -->
      <!-- <input type="hidden" name="area" value="default" /> -->
    </form>
</div>
<script type="text/javascript" align="center">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      
      
    </div>

    

    
  </body>
</html>